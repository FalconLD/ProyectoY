{% extends 'DriveX/base.html' %}
{% load static %}

{% block title %}Reservar - Rental Car DriveX{% endblock %}

{% block content %}
<main style="padding-top: 120px; padding-bottom: 3rem;">
    <section class="services">
        <div class="container">
            <div class="section-title fade-in">
                <h2>Reserva tu Experiencia Premium</h2>
                <p>Completa los detalles para personalizar tu servicio de transporte de lujo</p>
            </div>

            <div class="form-container fade-in">
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                    {% endfor %}
                {% endif %}

                <form id="reservation-form" method="post" action="{% url 'reserva' %}">
                    {% csrf_token %}

                    <!-- Fila 1: Nombre y Email (dos columnas) -->
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.nombre_completo.label_tag }}
                            {{ form.nombre_completo }}
                            {% if form.nombre_completo.errors %}<div class="error-message">{{ form.nombre_completo.errors }}</div>{% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.email.label_tag }}
                            {{ form.email }}
                            {% if form.email.errors %}<div class="error-message">{{ form.email.errors }}</div>{% endif %}
                        </div>
                    </div>

                    <!-- Fila 2: Teléfono y Vehículo (dos columnas) -->
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.telefono.label_tag }}
                            {{ form.telefono }}
                            {% if form.telefono.errors %}<div class="error-message">{{ form.telefono.errors }}</div>{% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.vehiculo.label_tag }}
                            {{ form.vehiculo }}
                            {% if form.vehiculo.errors %}<div class="error-message">{{ form.vehiculo.errors }}</div>{% endif %}
                        </div>
                    </div>

                    <!-- Fila 3: Fecha y Hora (dos columnas) -->
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.fecha_servicio.label_tag }}
                            {{ form.fecha_servicio }}
                            {% if form.fecha_servicio.errors %}<div class="error-message">{{ form.fecha_servicio.errors }}</div>{% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.hora_servicio.label_tag }}
                            {{ form.hora_servicio }}
                            {% if form.hora_servicio.errors %}<div class="error-message">{{ form.hora_servicio.errors }}</div>{% endif %}
                        </div>
                    </div>
                    
                    <!-- Fila 4: Duración y Tipo de Servicio (dos columnas) -->
                     <div class="form-row">
                        <div class="form-group">
                            {{ form.duracion.label_tag }}
                            {{ form.duracion }}
                            {% if form.duracion.errors %}<div class="error-message">{{ form.duracion.errors }}</div>{% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.tipo_servicio.label_tag }}
                            {{ form.tipo_servicio }}
                            {% if form.tipo_servicio.errors %}<div class="error-message">{{ form.tipo_servicio.errors }}</div>{% endif %}
                        </div>
                    </div>

                    <!-- Fila 5: Dirección y Destino (campos anchos) -->
                    <div class="form-group">
                        {{ form.direccion_recogida.label_tag }}
                        {{ form.direccion_recogida }}
                        {% if form.direccion_recogida.errors %}<div class="error-message">{{ form.direccion_recogida.errors }}</div>{% endif %}
                    </div>
                    <div class="form-group">
                        {{ form.destino.label_tag }}
                        {{ form.destino }}
                        {% if form.destino.errors %}<div class="error-message">{{ form.destino.errors }}</div>{% endif %}
                    </div>
                    
                    <!-- Fila 6: Solicitudes Especiales (campo ancho) -->
                    <div class="form-group">
                        {{ form.solicitudes_especiales.label_tag }}
                        {{ form.solicitudes_especiales }}
                        {% if form.solicitudes_especiales.errors %}<div class="error-message">{{ form.solicitudes_especiales.errors }}</div>{% endif %}
                    </div>

                    <div style="text-align: center; margin-top: 2rem;">
                        <button type="submit" class="cta-button">Confirmar Reserva</button>
                    </div>
                </form>
            </div>
        </div>
    </section>
</main>
{% endblock %}